{"name":"Nake","tagline":"A simplified Make for Java 8 Nashorn","body":"Nake\r\n===========\r\n\r\nNake is a simplified version of [Make](https://www.gnu.org/software/make/) ([Cake](http://coffeescript.org/documentation/docs/cake.html), [Jake](https://github.com/280north/jake), [Rake](http://rake.rubyforge.org/)) for the Java 8 [Nashorn](http://docs.oracle.com/javase/8/docs/technotes/guides/scripting/nashorn/toc.html) Javascript Engine.\r\n\r\nYou define tasks in a project specific `nakefile.js` and call them from the command line. Tasks are written in Javascript and run natively on the JVM by utilizing Nashorns `jjs -scripting` command. This enables you to utilize everything from the JDK 8 API or any external Java libraries.\r\n\r\nUsage\r\n===========\r\n\r\nRunning `nake` with no arguments prints all tasks in the current directory's Nakefile.\r\n\r\nUse `nake -- taskName [options]` to run a specific task from your Nakefile.\r\n\r\nInstallation\r\n===========\r\n\r\nUse the following steps to install Nake on POSIX systems (Mac OSX, Linux):\r\n\r\n - Install [Java 8](http://www.oracle.com/technetwork/java/javase/overview/index.html) and make sure `$JAVA_HOME` points to your Java home directory\r\n - Link `jjs` to `/usr/bin` so you can use it from any directory:\r\n```bash\r\n$ cd /usr/bin\r\n$ ln -s $JAVA_HOME/bin/jjs jjs\r\n```\r\n - Clone the nake repository or copy `src/nake.js` to your machine\r\n - Make `nake.js` executable: `chmod +x /path/to/nake/src/nake.js`\r\n - Link `src/nake.js` to `usr/bin` so you can use it from any directory:\r\n```bash\r\n$ cd /usr/bin\r\n$ ln -s /path/to/nake/src/nake.js nake\r\n```\r\n\r\n_Nake also runs on Windows: Set PATH to `nake.js` directory; then run Nake with `jjs -scripting nake.js -- taskName`._\r\n\r\nGetting started\r\n===========\r\n\r\nCreate a file called `nakefile.js` in your projects root directory with the following content:\r\n\r\n```javascript\r\ntask('hello', 'Hello World', function() {\r\n  print('Hello World!');\r\n};\r\n```\r\n\r\nOpen the terminal, cd into any project directory and type `nake -- hello`.\r\n\r\nNext, check out the [API Documentation](https://github.com/winterbe/nake/wiki) and [example tasks](https://github.com/winterbe/nake/blob/master/test/basic/Nakefile). You should also consider reading my [Nashorn Tutorial](http://winterbe.com/posts/2014/04/05/java8-nashorn-tutorial/) to get started with the Nashorn engine.\r\n\r\nExamples\r\n===========\r\n\r\nThe [java example](https://github.com/winterbe/nake/blob/master/test/java) found in `test/java` contains a sample java application with some basic java-related [nake tasks](https://github.com/winterbe/nake/blob/master/test/java/nakefile.js):\r\n\r\n#### Run the java application:\r\n\r\nInvokes the java main method. Nake arguments will be passed to java.\r\n\r\n```java\r\ntask(\"run\", \"Run java application\", function(options) {\r\n  shell()\r\n    .dir(\"out\")\r\n    .exec(\"java com/winterbe/nake/java/Main ${options[0]}\")\r\n    .print();\r\n});\r\n```\r\n\r\nRun the task from your terminal:\r\n\r\n```bash\r\nnake -- run [arg]\r\n```\r\n\r\n#### Compile all java files:\r\n\r\nCompiles all java files from `src` to `out`.\r\n\r\n```js\r\ntask(\"compile\", \"Compile all java files\", function() {\r\n  shell()\r\n    .exec(\"find src -name *.java\")\r\n    .apply(function(result) {\r\n      return java.lang.String.join(\" \", result.split(\"\\n\"));\r\n    })\r\n    .stash(\"files\")\r\n    .print(\"compiling java files...\")\r\n    .exec(\"mkdir -p out\")\r\n    .exec(\"javac -d out {{files}}\")\r\n    .print(\"done\");\r\n});\r\n```\r\n\r\nRun the task from your terminal:\r\n\r\n```bash\r\nnake -- compile\r\n```\r\n\r\nKeep in mind that you can run nake tasks from any subfolder of your project. Read the [API Documentation](https://github.com/winterbe/nake/wiki) for a detailed description.\r\n\r\nContribute\r\n===========\r\n\r\nYour Feedback is highly appreciated. Feel free to file an [issue](https://github.com/winterbe/nake/issues/new) or ping me on [Twitter](https://twitter.com/benontherun) or [Google+](https://plus.google.com/105973259367211176218/posts).\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}